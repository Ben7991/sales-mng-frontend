<div class="update-payment-modal-container">
  <div class="modal-header">
    <h2>Update Payment</h2>
    <button mat-icon-button (click)="onCancel()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()" class="update-payment-form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Payment Mode</mat-label>
      <mat-select formControlName="paymentMode">
        @for (mode of paymentModes; track $index) {
          <mat-option [value]="mode">{{ mode.replace('_', ' ') | titlecase }}</mat-option>
        }
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Amount</mat-label>
      <input matInput type="number" formControlName="amount" min="1" placeholder="Enter amount">
      @if (paymentForm.get('amount')?.hasError('required')) {
        <mat-error>Amount is required</mat-error>
      }

      @if (paymentForm.get('amount')?.hasError('min')) {
        <mat-error>Amount must be greater than 0</mat-error>
      }
    </mat-form-field>
    <div class="actions">
      <app-button
        variant="outlined"
        text="Cancel"
        (click)="onCancel()"
      />

      <app-button
        text="Update payment"
        type="submit"
        [disabled]="!paymentForm.valid"
        class="submit-button"
      />
    </div>
  </form>
</div>
